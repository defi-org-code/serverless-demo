service: serverless

custom:
  awsProject: "defi.org by Rotem"
  awsFileSystem:
    localMountPath: /mnt/efs
    arn: ${env:AWS_STORAGE_ARN}

provider: ${file(./serverless-provider.yml)}

functions:
  create:
    fileSystemConfig: ${self:custom.awsFileSystem}
    handler: handler.create
    events:
      - http:
          path: create/{value}
          method: get
          cors: true
  list:
    fileSystemConfig: ${self:custom.awsFileSystem}
    handler: handler.list
    events:
      - http:
          path: list
          method: get
          cors: true
  alive:
    fileSystemConfig: ${self:custom.awsFileSystem}
    handler: handler.alive
    events:
      - http:
          path: alive
          method: get
          cors: true
  exec:
    fileSystemConfig: ${self:custom.awsFileSystem}
    handler: handler.exec
    events:
      - http:
          path: exec/{value}
          method: get
          cors: true

#  list:
#    handler: handler.list
#    events:
#      - http:
#          path: list
#          method: get
#          cors: true
#  get:
#    handler: handler.get
#    events:
#      - http:
#          path: get/{id}
#          method: get
#          cors: true
#  update:
#    handler: handler.update
#    events:
#      - http:
#          path: update/{id}
#          method: get
#          cors: true
#  delete:
#    handler: handler.delete
#    events:
#      - http:
#          path: delete/{id}
#          method: get
#          cors: true
